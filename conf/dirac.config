/*
* ------------------------------------------------------------------
*   Config file for nextflow pipelines for Novo Nordisk's Dirac cluster
* ------------------------------------------------------------------
*/

params {
    config_profile_description = "Novo Nordisk's Dirac cluster profile"
    config_profile_contact     = 'Ashot Margaryan (ashotmarg2004@gmail.com), Vincent Aaskov (vincentrose88@gmail.com)'
}

process {
    resourceLimits = [
        memory: 1536.GB,
        cpus: 64,
        time: 240.h
    ]
    executor     = 'slurm'
    queue        = 'compute'
    maxRetries   = 2
    scratch      = "/scratch/${USER}"
}

executor {
    queueSize       = 64
    submitRateLimit = "10/1sec"
}

apptainer {
    enabled     = true
    autoMounts  = true
    ociAutoPull = true
    cacheDir    = "/scratch/${USER}"
    pullTimeout = '600 min'
    runOptions  = "--no-mount hostfs"
}
